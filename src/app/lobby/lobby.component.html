<div class="lobby">
  <canvas id="bg-canvas"></canvas>

  <div class="lobby-card">
    <header class="lobby-header">
      <h1>Bem-vindo, <span class="username">{{ userName }}</span>!</h1>
      <button class="logout-button" (click)="logout()">Sair</button>
    </header>

    <div class="lobby-content">
      <!-- Lista de Salas -->
      <section *ngIf="!loading" class="room-list">
        <h2>Salas Disponíveis</h2>
        <ul *ngIf="lobby.rooms.length; else noRoomsTpl">
          <li *ngFor="let room of lobby.rooms" class="room-item">
            <div class="room-info">
              <h3>{{ room.name }}</h3>
              <p>{{ room.players.length }}/4 Jogadores</p>
            </div>
            <button (click)="joinRoom(room.id)">Entrar</button>
          </li>
        </ul>
      </section>

      <!-- Area de criação -->
      <section class="create-room-section">
        <h2>Criar Nova Sala</h2>
        <div class="new-room">
          <input
            id="new-room-name"
            type="text"
            [(ngModel)]="newRoomName"
            placeholder=" "
            required
          />
          <label for="new-room-name">Nome da Sala</label>
          <button class="create-room" (click)="createRoom()">Criar</button>
        </div>
      </section>
    </div>

    <!-- Template para “sem salas” -->
    <ng-template #noRoomsTpl>
      <p class="no-rooms">Nenhuma sala criada ainda. Seja o primeiro!</p>
    </ng-template>
  </div>
</div>
